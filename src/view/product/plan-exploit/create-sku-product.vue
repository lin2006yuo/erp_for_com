<template>
    <page-dialog class="p-create-product" :title="status"
                 @open="open"
                 v-model="visible" size="large" :close-on-click-modal="false">
        <!--<base-info  ref="baseInfo"-->
                    <!--v-model="visible"-->
                    <!--:selectProduct="selectProduct"-->
                    <!--:isEdit="isEdit" :id="id"-->
                    <!--:isComplete="isComplete"-->
                    <!--:isDispose="isDispose"-->
                    <!--:disposeBtn="disposeBtn"-->
                    <!--:fromData="fromData"-->
                    <!--:isCreate = "isCreate"-->
                    <!--@add-good="add_good"-->
                    <!--@dispose-goods="add_good"-->
                    <!--@edit-product="edit_product"-->
                    <!--@visible-hide="visible=false"-->
        <!--&gt;</base-info>-->
        <base-info-copy ref="baseInfo"></base-info-copy>
        <div slot="footer">
            <el-button type="primary" size="mini" class="inline">保存</el-button>
            <el-button type="primary" size="mini" class="inline">提交审核</el-button>
            <el-button type="primary" size="mini" class="inline">取消</el-button>
            <el-button type="primary" size="mini" class="inline">审核通过</el-button>
            <el-button type="primary" size="mini" class="inline">作废</el-button>
        </div>
    </page-dialog>
</template>
<script>

    export default{
        data(){
            return {
                visible:false
            }
        },
        methods:{
            edit_product(){
                this.visible = false;
                this.$emit('edit-product')
            },
            add_good(val,id){
                this.visible = false;
                this.$emit('update-product',val,id)
            },
            open(){
                if(this.isEdit){
                    this.$nextTick(()=>{
                        this.$refs.baseInfo.purchase_url = this.fromData.purchase_url;
                    });
                }
            },
        },
        watch: {
            visible(val){
                this.$emit('input', val);
            },
            value(val){
                this.visible = val;
            }
        },
        props: {
            value: {},
            selectProduct: {
                required: true
            },
            disposeBtn:{},
            isEdit: {},
            isDispose: {},
            fromData:{},
            id: {},
            isComplete:{},
            isCreate:{},
            status:{}
        },
        components: {
            baseInfo: require('./base-info.vue').default,
            pageDialog: require("../../../components/page-dialog.vue").default,
            baseInfoCopy: require('./base-info-copy.vue').default,
        }
    }
</script>

